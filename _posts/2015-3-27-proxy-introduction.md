---
layout: post
title: 读书笔记：正向代理，反向代理和透明代理
category: program
description: 正向代理，反向代理和透明代理工作方式介绍。
tags: [ssh]
comments: true
---

代理按照其部署的位置和工作方式，大致可以分为三类：正向代理，反向代理和透明代理。

## **正向代理**

正向代理（Forward Proxy）是一个位于客户端和原始服务器(origin server)之间的服务器，为了从原始服务器取得内容，客户端向代理发送一个请求并指定目标(原始服务器)，然后代理向原始服务器转交请求并将获得的内容返回给客户端。
在正向代理的方式下，使用者需要显示的配置其代理服务器。配置完成后，用户对其他网络服务的访问都先到达代理服务器，如果此时代理服务器缓存了用户想要的信息，且资源还没有失效，则代理服务器将直接把资源返回给用户，不再发请求到源服务器。如果代理服务器缓存中没有用户想要的资源，或者资源已经失效，则代理服务器将去源服务器请求，然后再将信息返回给用户，并在代理服务器中缓存。

<p class="picture"><img alt="" src="/assets/img/2015-3-27/forward_proxy.jpg"/></p>

上图演示了一个典型的公司网络使用正向代理的例子，内网用户想要访问外部的网络都必须通过代理服务器完成。内网用户主机和代理服务器部署在同一个网络环境中，内网用户的IP地址为：192.168.10.101，代理服务器的IP地址为：192.168.10.1，用户想要访问的外网服务器IP地址为：172.16.10.200。通常，用户在使用代理前，需要为所使用的主机配置好代理服务器的IP地址和端口，这里是192.168.10.1和8080。

正向代理多用户中小企业网络环境，正向代理服务器作为企业的出口网关提供代理服务、内容缓存、Internet访问控制、安全认证等功能。
